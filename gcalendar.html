<!DOCTYPE html>
<html>
<head>
    <title>Tabliss Google Calendar OAuth Redirect</title>
    <script>
        window.onload = function() {
            const hash = window.location.hash.substring(1);
            const params = new URLSearchParams(hash);
            
            // Get the extension URL from state parameter
            const state = params.get('state');
            if (state) {
                const extensionUrl = decodeURIComponent(state);
                // Redirect back to the extension with all the original hash parameters
                window.location.replace(`${extensionUrl}#${hash}`);
            } else {
                document.body.innerHTML = 'Error: No state parameter found';
            }
        };
    </script>
</head>
<body>
    <p>Redirecting back to Tabliss...</p>
</body>
</html>
